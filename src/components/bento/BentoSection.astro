---
import BentoCard from './BentoCard.astro';
import GithubActivity from './GithubActivity.astro';
import BentoItemTypingSpeed from './BentoItemTypingSpeed.astro';
import { LocationIcon, FeaturedWorkIcon, SpotifyIcon, SocialIcon, ProjectsIcon, GithubIcon, TechStackIcon } from '../icons/BentoIcons';
import { Monkeytype } from '../icons/Monkeytype';
---

<div id="bento" class="w-2/3 mx-auto grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-6 gap-4 p-4 max-w-[1200px]">
  <BentoCard title="Location" icon={LocationIcon} colSpan={true}>
    Location placeholder
  </BentoCard>
  
  <BentoCard title="Featured work" icon={FeaturedWorkIcon} colSpan={true}>
    Featured work placeholder
  </BentoCard>
  
  <BentoCard title="Spotify" icon={SpotifyIcon} colSpan={true}>
    Now playing placeholder
  </BentoCard>
  
  <BentoCard title="Social media" icon={SocialIcon} colSpan={true}>
    Social links placeholder
  </BentoCard>
  
  <BentoCard title="Projects" icon={ProjectsIcon} colSpan={true}>
    Projects placeholder
  </BentoCard>
  
  <BentoCard title="Typing speed" icon={Monkeytype} colSpan={true}>
    <BentoItemTypingSpeed />
  </BentoCard>
  
  <BentoCard title="Github activity" icon={GithubIcon} isWide={true}>
    <div class="flex items-center justify-between">
      <GithubActivity username="amirabaskanov" />
      <div class="text-white text-[14px] contribution-info absolute top-8.5 right-6">
        <span>Loading contributions...</span>
      </div>
    </div>
  </BentoCard>
  
  <BentoCard title="Tech stack" icon={TechStackIcon} isWide={true}>
    Technologies placeholder
  </BentoCard>
</div>

<script>
  const handleMouseMove = (e: MouseEvent, card: HTMLElement) => {
    const rect = card.getBoundingClientRect();
    const x = e.clientX - rect.left;
    const y = e.clientY - rect.top;
    
    card.style.setProperty("--mouse-x", `${x}px`);
    card.style.setProperty("--mouse-y", `${y}px`);
  };

  document.addEventListener("astro:page-load", () => {
    document.querySelectorAll<HTMLElement>(".group").forEach((card) => {
      card.addEventListener("mousemove", (e) => handleMouseMove(e, card));
    });
  });
</script>
