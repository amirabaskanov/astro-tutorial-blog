---
import BentoCard from './BentoCard.astro';
import GithubActivity from './GithubActivity.astro';
---

<div id="bento" class="w-2/3 mx-auto grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 p-4 max-w-[1200px]">
  <BentoCard title="Location" icon="📍">
    Location placeholder
  </BentoCard>
  
  <BentoCard title="Featured Work" icon="🎨" colSpan={true}>
    Featured work placeholder
  </BentoCard>
  
  <BentoCard title="Spotify" icon="🎵">
    Now playing placeholder
  </BentoCard>
  
  <BentoCard title="Social Media" icon="🌐">
    Social links placeholder
  </BentoCard>
  
  <BentoCard title="Projects" icon="💼" colSpan={true}>
    Projects placeholder
  </BentoCard>
  
  <BentoCard title="Monkeytype" icon="⌨️">
    Typing stats placeholder
  </BentoCard>
  
  <BentoCard title="Github Activity" icon="📊" colSpan={true}>
    <div class="flex items-center justify-between">
      <GithubActivity username="amirabaskanov" />
      <div class="text-white text-[14px] contribution-info absolute top-8.5 right-6">
        <span>Loading contributions...</span>
      </div>
    </div>
  </BentoCard>
  
  <BentoCard title="Tech Stack" icon="💻" colSpan={true}>
    Technologies placeholder
  </BentoCard>
</div>

<script>
  const handleMouseMove = (e: MouseEvent, card: HTMLElement) => {
    const rect = card.getBoundingClientRect();
    const x = e.clientX - rect.left;
    const y = e.clientY - rect.top;
    
    card.style.setProperty("--mouse-x", `${x}px`);
    card.style.setProperty("--mouse-y", `${y}px`);
  };

  document.addEventListener("astro:page-load", () => {
    document.querySelectorAll<HTMLElement>(".group").forEach((card) => {
      card.addEventListener("mousemove", (e) => handleMouseMove(e, card));
    });
  });
</script>
